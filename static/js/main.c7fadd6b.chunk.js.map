{"version":3,"sources":["components/Header/Header.js","components/MainNav.js","components/MySearchBar/MySearchBar.jsx","components/SingleContent/SingleContent.js","Pages/Home/Home.jsx","Pages/Mypage/Mypage.jsx","myutils.js","Pages/PlaySlug/PlaySlug.jsx","App.js","serviceWorkerRegistration.js","index.js"],"names":["Header","location","useLocation","onClick","window","scroll","className","href","src","alt","pathname","to","useStyles","makeStyles","root","width","position","bottom","backgroundColor","zIndex","topBtn","height","right","color","borderRadius","cursor","SimpleBottomNavigation","classes","React","useState","value","setValue","history","useHistory","mLocation","useEffect","push","BottomNavigation","onChange","event","newValue","showLabels","BottomNavigationAction","style","label","icon","Videocam","MySearchBar","setSearchText","searchAction","darkTheme","createMuiTheme","palette","type","primary","main","ThemeProvider","theme","TextField","flex","variant","size","e","target","Button","marginLeft","fontSize","SingleContent","slug","poster","title","date","duration","url","formatedDuration","theTime","parseInt","theTime1","theTime2","result","formatSeconds","ndate","Date","dateStr","getFullYear","String","getMonth","padStart","getDate","titleFormat","length","substring","videoData","videoHis","localStorage","getItem","JSON","parse","find","element","unshift","console","log","setItem","stringify","Home","hasMore","setHasMore","content","setContent","cdn","setCdn","page","setPage","sourcePage","setSourcePage","source","setSource","searchText","db","setDb","manual","setManual","perPage","changePage","a","tmpContent","i","Math","min","resHash","sha1","toString","axios","get","process","data","concat","tmpSourcePage","newSource","slice","newData","then","res","Fuse","shouldSort","matchAllTokens","findAllMatches","includeScore","threshold","distance","maxPatternLength","minMatchCharLength","catch","err","betterSearchText","replace","tmpResult","search","map","item","dataLength","next","loader","endMessage","overflowX","c","cover","update_at","Mypage","videoHistory","formatDate","PlaySlug","useParams","video","setVideo","like","setLike","page0","setPage0","count","isSafari","test","navigator","userAgent","getLike","likeIndexes","Set","add","floor","random","nlikeArr","forEach","getVideoInfo","controls","playsinline","light","encodeURI","charCodeAt","playing","config","file","forceHLS","forceVideo","App","Container","path","component","exact","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","require","ReactDOM","render","document","getElementById","URL","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c7fadd6b.chunk.js","sourcesContent":["import \"./Header.css\";\nimport {Link, useLocation} from \"react-router-dom\";\n\nconst Header = () => {\n  const location = useLocation();\n  return (\n    <span onClick={() => window.scroll(0, 0)} className=\"header\">\n      <a href=\"/\" ><img src=\"/logo.png\" alt=\"logo\" className=\"headerLogo\" /></a>\n      { location.pathname===\"/play\" ? <Link to=\"/\" className=\"topBarRightLink\">站點首頁</Link> : null }\n    </span>\n  );\n};\n\nexport default Header;\n","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport { Videocam } from \"@material-ui/icons\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    position: \"fixed\",\n    bottom: 0,\n    backgroundColor: \"#2d313a\",\n    zIndex: 100,\n  },\n  topBtn: {\n    width: \"50px !important\",\n    height: \"50px !important\",\n    position: \"fixed\",\n    bottom: \"80px\",\n    right: \"10px\",\n    backgroundColor: \"blue\",\n    zIndex: 100,\n    color: \"white\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n  }\n});\n\nexport default function SimpleBottomNavigation() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState();\n  const history = useHistory();\n    const mLocation = useLocation();\n\n  useEffect(() => {\n      if (value === 0) {\n          history.push(\"/\");\n          window.scroll(0, 0);\n      } else if (value === 1) {\n          history.push(\"/mine\");\n          window.scroll(0, 0);\n      }\n\n  }, [value]);\n\n    useEffect(()=> {\n      if (mLocation.pathname !== '/' && mLocation.pathname !== '/mine') {\n          setValue(100);\n      }          \n    }, [mLocation.pathname]);\n\n  return (\n    <>\n    <BottomNavigation\n      value={value}\n      onChange={(event, newValue) => {\n        setValue(newValue);\n      }}\n      showLabels\n      className={classes.root}\n    >\n      <BottomNavigationAction\n        style={{ color: \"white\" }}\n        label=\"视频\"\n        icon={<Videocam />}\n      />\n      <BottomNavigationAction\n        style={{ color: \"white\"}}\n        label=\"我的\"\n        icon={<AccountCircleIcon />}\n      />\n    </BottomNavigation>\n    \n      </>\n  );\n}\n","import \"./mysearchbar.css\"\nimport {\n    Button,\n    TextField,\n    ThemeProvider,\n    createMuiTheme,\n  } from \"@material-ui/core\";\n  import SearchIcon from \"@material-ui/icons/Search\";\n\nexport default function MySearchBar({\n    setSearchText,\n    searchAction,\n}) {\n    const darkTheme = createMuiTheme({\n        palette: {\n            type: \"dark\",\n            primary: {\n                main: \"#fff\",\n            }\n        }\n    });\n\n    return (\n        <ThemeProvider theme={darkTheme}>\n            <div className=\"search\">\n            <TextField\n                style={{ flex: 1 }}\n                className=\"searchBox\"\n                label=\"搜索影片\"\n                variant=\"filled\"\n                size=\"small\"\n                onChange={(e) => setSearchText(e.target.value)}\n            />\n            <Button\n                onClick={searchAction}\n                variant=\"contained\"\n                style={{ marginLeft: 10 }}\n            >\n                <SearchIcon fontSize=\"large\" />\n            </Button>\n            </div>\n        </ThemeProvider>\n        \n    );\n}","// import { Badge } from \"@material-ui/core\";\n\nimport \"./SingleContent.css\";\n\nimport { useHistory } from \"react-router\";\nimport localStorage from \"localStorage\";\n\n\nconst SingleContent = ({\n  slug,\n  poster,\n  title,\n  date,\n  duration,\n  url,\n}) => {\n  const history = useHistory();\n  // const handlePlay = () =>{\n  //   history.push({\n  //     pathname: \"/play\",\n  //     state: {\"url\": url, \"backurl\": backurl, \"title\": title, }\n  //   });\n  // };\n  function formatSeconds(value) {\n    var theTime = parseInt(value);// 秒\n    var theTime1 = 0;// 分\n    var theTime2 = 0;// 小时\n    if (theTime > 60) {\n        theTime1 = parseInt(theTime / 60);\n        theTime = parseInt(theTime % 60);\n        if (theTime1 > 60) {\n            theTime2 = parseInt(theTime1 / 60);\n            theTime1 = parseInt(theTime1 % 60);\n        }\n    }\n \n    var result = \"\" + parseInt(theTime);//秒\n    if (10 > theTime > 0) {\n        result = \"0\" + parseInt(theTime);//秒\n    } else {\n        result = \"\" + parseInt(theTime);//秒\n    }\n \n    if (10 > theTime1 > 0) {\n        result = \"0\" + parseInt(theTime1) + \":\" + result;//分，不足两位数，首位补充0，\n    } else {\n        result = \"\" + parseInt(theTime1) + \":\" + result;//分\n    }\n    if (theTime2 > 0) {\n        result = \"\" + parseInt(theTime2) + \":\" + result;//时\n    }\n    return result;\n  }\n  const formatedDuration = formatSeconds(duration);\n  const ndate  = new Date(date);\n  // const dateStr = date.getFullYear()+\"-\"+String((date.getMonth()+1)).padStart(2, '0')+ \n  //   \"-\"+String(date.getDate()).padStart(2, '0')+\" \"+String(date.getHours()).padStart(2, '0')+\":\"+\n  //   String(date.getMinutes()).padStart(2, '0')+\":\"+String(date.getSeconds()).padStart(2, '0');\n  const dateStr = ndate.getFullYear()+\"-\"+String((ndate.getMonth()+1)).padStart(2, '0')+ \n    \"-\"+String(ndate.getDate()).padStart(2, '0');\n  const titleFormat = title.length > 20 ? title.substring(0, 20) + '...' : title;\n\n  const handlePlay = () =>{\n    const videoData = {\n      \"poster\": poster,\n      \"title\": title,\n      \"date\": date,\n      \"duration\": duration,\n      \"url\": url,\n      \"slug\": slug,\n    };\n    var videoHis = localStorage.getItem('videoHistory');\n    if (videoHis) {\n      videoHis = JSON.parse(videoHis);\n      const isExist = videoHis.find((element) => {\n        return element.slug === videoData.slug;\n      });\n      if (!isExist) {\n        videoHis.unshift(videoData);\n      }\n    } else {\n      videoHis = [];\n      videoHis.unshift(videoData);\n    }\n\n    console.log(videoHis);\n\n    localStorage.setItem('videoHistory', JSON.stringify(videoHis));\n\n    // history.push({\n    //   pathname: \"/play\",\n\t  //   state: {'url': url, 'title': title, 'dateStr': dateStr, 'duration': formatedDuration, 'poster': poster},\n    // });\n    history.push({\n      pathname: \"/py2/\"+slug,\n    });\n  };\n\n  return (\n    <div\n        className=\"media\"\n        style={{ cursor: \"pointer\" }}\n        color=\"inherit\"\n        onClick={handlePlay}\n      >\n      <div className=\"imageBox\">\n        <img\n          className=\"poster\"\n          src={poster}\n          alt={title}\n        />\n        <span className=\"leftLogo\">X10096</span>\n        <span className=\"rightLogo\">HD</span>\n      </div>\n      <div className=\"videoTimeBox\">\n        <span className=\"videoTime\">{formatedDuration}</span>\n      </div>\n      \n      <b className=\"title\">{titleFormat}</b>\n      <span className=\"subTitle\">\n        <span className=\"subTitle\">添加時間：{dateStr}</span>\n      </span>\n    </div>\n  );\n};\n\nexport default SingleContent;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport MySearchBar from \"../../components/MySearchBar/MySearchBar\";\nimport SingleContent from \"../../components/SingleContent/SingleContent\";\nimport \"./home.css\"\nimport Fuse from \"fuse.js\";\nimport sha1 from \"crypto-js/sha1\";\nimport InfiniteScroll from \"react-infinite-scroll-component\"\n\nexport default function Home() {\n    const [hasMore, setHasMore] = useState(true);\n    const [content, setContent] = useState([]);\n    const [cdn, setCdn] = useState();\n    const [page, setPage] = useState();\n    const [sourcePage, setSourcePage] = useState(0);\n    const [source, setSource] = useState([]);\n    const [searchText, setSearchText] = useState();\n    const [db, setDb] = useState();\n    const [manual, setManual] = useState();\n    const perPage = 10;\n\n    const moreContentClick = () => {\n        setPage(page+1);\n    };\n\n    const initConfig = () => {\n        axios.get(\n            `${process.env.REACT_APP_CONFIG_URL}`\n        ).then(function(res) {\n            setCdn(res.data.cdn);\n            axios.get(\n                `${process.env.REACT_APP_TEST_BASEDIR}search.json`\n            ).then(function(res) {\n                var options = {\n                    shouldSort: true,\n                    matchAllTokens: true,\n                    findAllMatches: true,\n                    includeScore: true,\n                    threshold: 0,\n                    location: 0,\n                    distance: 100,\n                    maxPatternLength: 32,\n                    minMatchCharLength: 1,\n                };\n                setDb(new Fuse(res['data']), options);\n                setPage(1);\n                // changePage();\n            }).catch(function(err) {\n                console.log(err);\n            });\n        }).catch(function(err) {\n            console.log(err);\n        });\n    };\n\n    const changePage = async () => {\n        if (cdn) {\n            if (source.length > 0 && typeof source[0] === 'string') {\n                // this is search result.\n                var tmpContent = []\n                for(var i=(page-1)*perPage; i<Math.min(page*perPage, source.length); i++) {\n                    const resHash = sha1(source[i]).toString();\n                    try {\n                        const {data} = await axios.get(\n                            `${process.env.REACT_APP_TEST_BASEDIR}output/${resHash}`\n                        );\n                        tmpContent.push(data);\n                    }catch(err) {\n                        console.log(err);\n                    }\n                }\n                if (tmpContent.length === 0) {\n                    setHasMore(false);\n                } else {\n                    // not duplicate add same page.\n                    if (content.length > 0 && tmpContent.length > 0) {\n                        if (content[content.length-1].slug === tmpContent[tmpContent.length-1].slug) {\n                            return;\n                        }\n                    }\n                    setContent(content.concat(tmpContent));\n                    if (Math.min(page*perPage, source.length) === source.length) {\n                        setHasMore(false);\n                    } else {\n                        setHasMore(true);\n                    }\n                    // setPage(page+1);\n                }\n                \n            } else {\n                if (page * perPage > source.length) {\n                    // need more source.\n                    const tmpSourcePage = String(sourcePage).padStart(3, '0');\n                    try {\n                        const {data} = await axios.get(\n                            `${process.env.REACT_APP_TEST_BASEDIR}page-${tmpSourcePage}.json`\n                        );\n                        if (data.length > 0) {\n\n                            const newSource = source.concat(data);\n                            setSource(newSource);\n                            setContent(content.concat(newSource.slice((page-1)*perPage, page*perPage)));\n                            setSourcePage(sourcePage+1);\n                            setHasMore(true);\n                            // setPage(page+1);\n                        } else {\n                            setHasMore(false);\n                        }\n                    }catch(err) {\n                        if (source.length > content.length) {\n                            setContent(content.concat(source.slice((page-1)*perPage, page*perPage)));\n                        }\n                        setHasMore(false);\n                        console.log(err);\n                    }\n                } else {\n                    // if (content.length > 0) {\n                    //     if (content[content.length-1].slug === source[page*perPage-1].slug) {\n                    //         setHasMore(false);\n                    //         return;\n                    //     }\n                    // }\n                    const newData = source.slice((page-1)*perPage, page*perPage);\n                    setContent(content.concat(newData));\n                    if (newData.length < perPage) {\n                        setHasMore(false);\n                    } else {\n                        setHasMore(true);\n                    }\n                    // setPage(page+1);\n                }\n            }\n            \n        }\n    };\n\n    const searchAction = () => {\n        if (!db) {\n            console.log('db init failed.');\n            return;\n        }\n        if (searchText && searchText.length !== 0) {\n            const betterSearchText = '\"' + searchText.replace(' ', '\" \"') + '\"';\n            console.log(betterSearchText);\n            const tmpResult = db.search(betterSearchText).map((result) => result.item);\n            setContent([]);\n            setSource(tmpResult);\n            setSourcePage(0);\n            setPage(1);\n            if (page === 1) {\n                setManual(!manual);\n            }\n            if (tmpResult.length > 0) {\n                setHasMore(true);\n            }\n        } else {\n            setContent([]);\n            setPage(1);\n            setSource([]);\n            setSourcePage(0);\n            setHasMore(false);\n            if (page === 1) {\n                setManual(!manual);\n            }\n        }\n    };\n\n    useEffect(()=> {        \n        console.log('init config');\n        initConfig();\n    }, []);\n\n    useEffect(() => {\n        changePage();\n    }, [page, manual]);\n\n    return (\n    <div className=\"mContent\">\n      <MySearchBar \n        setSearchText={setSearchText} \n        searchAction={searchAction}\n      />\n      <div className=\"trending\">\n          <InfiniteScroll\n          dataLength={content.length}\n          next={moreContentClick}\n          hasMore={hasMore}\n          loader={<h4>~~~正在加載~~~</h4>}\n          endMessage = {<h4>~~~我們也是有底綫的~~~</h4>}\n          style={{overflowX:\"hidden\"}}\n          >\n        {content &&\n          content.map((c) => (\n            <SingleContent\n              key={c.slug}\n              slug={c.slug}\n              poster={c.cover}\n              title={c.title}\n              date={c.update_at}\n              duration={c.duration}\n              url={c.url}\n            />\n          ))}\n          </InfiniteScroll>\n        \n      </div>\n      {/* <div className=\"moreContentLink\">\n        <div className=\"linkText\" onClick={moreContentClick}>{moreText}</div>\n      </div> */}\n      {/* <KeyboardArrowUpIcon\n        className={classes.topBtn}\n        onClick={gotoTop}\n        /> */}\n    </div>\n    );\n}\n","import \"./mypage.css\"\n\nimport localStorage from \"localStorage\";\nimport SingleContent from \"../../components/SingleContent/SingleContent\";\n\nexport default function Mypage() {\n\n    var videoHistory = localStorage.getItem(\"videoHistory\");\n    if (videoHistory) {\n        videoHistory = JSON.parse(videoHistory);\n    } else {\n        videoHistory = [];\n    }\n\n    return (\n        <div className=\"mypageContainer\">\n            <div className=\"mypageTitle\">\n                觀看歷史~~~\n            </div>\n            <div className=\"mypage\">\n                {videoHistory.length === 0 ? \"沒有什麽信息～～～\" : videoHistory.map((c) => (\n                    <SingleContent\n                    key={c.slug}\n                    slug={c.slug}\n                    poster={c.poster}\n                    title={c.title}\n                    date={c.date}\n                    duration={c.duration}\n                    url={c.url}\n                />\n                ))}\n            </div>\n        </div>\n    );\n}\n","export function formatSeconds(value) {\n    var theTime = parseInt(value);// 秒\n    var theTime1 = 0;// 分\n    var theTime2 = 0;// 小时\n    if (theTime > 60) {\n        theTime1 = parseInt(theTime / 60);\n        theTime = parseInt(theTime % 60);\n        if (theTime1 > 60) {\n            theTime2 = parseInt(theTime1 / 60);\n            theTime1 = parseInt(theTime1 % 60);\n        }\n    }\n \n    var result = \"\" + parseInt(theTime);//秒\n    if (10 > theTime > 0) {\n        result = \"0\" + parseInt(theTime);//秒\n    } else {\n        result = \"\" + parseInt(theTime);//秒\n    }\n \n    if (10 > theTime1 > 0) {\n        result = \"0\" + parseInt(theTime1) + \":\" + result;//分，不足两位数，首位补充0，\n    } else {\n        result = \"\" + parseInt(theTime1) + \":\" + result;//分\n    }\n    if (theTime2 > 0) {\n        result = \"\" + parseInt(theTime2) + \":\" + result;//时\n    }\n    return result;\n  }\n\n  export function formatDate(date) {\n    const ndate  = new Date(date);\n    // const dateStr = date.getFullYear()+\"-\"+String((date.getMonth()+1)).padStart(2, '0')+ \n    //   \"-\"+String(date.getDate()).padStart(2, '0')+\" \"+String(date.getHours()).padStart(2, '0')+\":\"+\n    //   String(date.getMinutes()).padStart(2, '0')+\":\"+String(date.getSeconds()).padStart(2, '0');\n    const dateStr = ndate.getFullYear()+\"-\"+String((ndate.getMonth()+1)).padStart(2, '0')+ \n      \"-\"+String(ndate.getDate()).padStart(2, '0');\n      return dateStr;\n  }\n\n  export function fixPicUrl(poster) {\n    return encodeURI(poster).replace(/[()]/g, (c) => {\n        return '%'+c.charCodeAt(0).toString(16);\n    })\n  }","import {React, useState, useEffect} from \"react\"\nimport ReactPlayer from \"react-player\"\nimport { useParams } from \"react-router-dom\";\nimport { formatDate, formatSeconds, fixPicUrl } from \"../../myutils\";\nimport axios from \"axios\";\nimport SingleContent from \"../../components/SingleContent/SingleContent\";\nimport \"./playslug.css\"\n\nconst PlaySlug = () => {\n    const {slug} = useParams();\n    const [video, setVideo] = useState();\n    const [like, setLike] = useState([]);\n    const [page0, setPage0] = useState([]);\n    var i=0;\n    var count = 0;\n\n    console.log(slug);\n    \n    // const poster = encodeURI(location.state.poster).replace(/[()]/g, (c) => {\n    //     return '%'+c.charCodeAt(0).toString(16);\n    // });\n\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n\n    const getLike = async () => {\n        try {\n            var likeIndexes = new Set();\n            if (page0.length > 0) {\n                count = 0;\n                while (likeIndexes.size < 6) {\n                    likeIndexes.add(Math.floor(Math.random()*page0.length));\n                    count = count + 1;\n                    if (count > 100) {\n                        break;\n                    }\n                }\n                var nlikeArr = [];\n                likeIndexes.forEach((value)=>{\n                    nlikeArr.push(page0[value]);\n                });\n                \n                setLike(nlikeArr);\n            } else {\n                const {data} = await axios.get(\n                    `${process.env.REACT_APP_TEST_BASEDIR}page-000.json`\n                );\n                if (data.length > 0) {\n                    setPage0(data);\n                    count = 0;\n                    while (likeIndexes.size < 6) {\n                        likeIndexes.add(Math.floor(Math.random()*data.length));\n                        count = count + 1;\n                        if (count > 100) {\n                            break;\n                        }\n                    }\n                    console.log(likeIndexes);\n                    nlikeArr = [];\n                    likeIndexes.forEach((value)=>{\n                        nlikeArr.push(data[value]);\n                    });\n                    setLike(nlikeArr);\n                }\n            }\n            \n        }catch(err) {\n            console.log(err);\n        }\n    };\n\n    const getVideoInfo = async () => {\n        try {\n            const {data} = await axios.get(\n                `${process.env.REACT_APP_TEST_BASEDIR}output/${slug}`\n            );\n            setVideo(data);\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    useEffect(() => {\n        getVideoInfo();\n        getLike();\n    }, [slug]);\n\n    window.scroll(0, 0);\n    return (\n        <div className=\"playerContent\">\n           \n            <div className=\"playTitle\">{video && video.title}</div>\n            <div className=\"playerBox\">\n                <ReactPlayer\n                className=\"react-player\"\n                url={video && video.url}\n                controls={true}\n                playsinline={true}\n                width=\"100%\"\n                height=\"300px\"\n                light={video && fixPicUrl(video.cover)}\n                playing={true}\n                config={{\n                    file: {\n                        forceHLS:!isSafari,\n                        forceVideo: true,\n                    }\n                }}\n                />\n                <div className=\"videoInfoLine\">\n                    <span className=\"videoInfoLeft\">添加時間：{video && formatDate(video.update_at)}</span>\n                    <span className=\"videoInfoRight\">影片時長：{video && formatSeconds(video.duration)}</span>\n                </div>\n            </div>\n            <div className=\"likeBoxTitle\">\n                猜你喜歡\n            </div>\n            <hr/>\n            <div className=\"likeBox\">\n                {like.length > 0 && like.map((c) => (\n                    <SingleContent\n                    key={c.slug}\n                    slug={c.slug}\n                    poster={c.cover}\n                    title={c.title}\n                    date={c.update_at}\n                    duration={c.duration}\n                    url={c.url}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default PlaySlug;","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport SimpleBottomNavigation from \"./components/MainNav\";\nimport { Container } from \"@material-ui/core\";\nimport Home from \"./Pages/Home/Home\";\nimport Mypage from \"./Pages/Mypage/Mypage\";\nimport PlaySlug from \"./Pages/PlaySlug/PlaySlug\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <div className=\"app\">\n        <Container>\n          <Switch>\n            <Route path=\"/py2/:slug\" component={PlaySlug} exact />\n            <Route path=\"/\" component={Home} exact />\n            \n            <Route path=\"/mine\" component={Mypage} exact />\n          </Switch>\n        </Container>\n      </div>\n      <SimpleBottomNavigation />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}